import { WebGLRenderer, Color } from 'three';

export function createRenderer() {
  const renderer = new WebGLRenderer();
  document.body.appendChild(renderer.domElement);
  renderer.setPixelRatio(devicePixelRatio);
  renderer.setClearColor(new Color('gray'));

  renderer.domElement.style.position = 'fixed';
  renderer.domElement.style.left = '0';
  renderer.domElement.style.top = '0';
  renderer.domElement.style.width = '100%';
  renderer.domElement.style.height = '100%';

  return renderer;
}

export function resizeRendererToDisplaySize(renderer: WebGLRenderer) {
  const canvas = renderer.domElement;
  const width = canvas.clientWidth;
  const height = canvas.clientHeight;
  const needResize = canvas.width !== width || canvas.height !== height;
  if (needResize) {
    renderer.setSize(width, height, false);
  }
  return needResize;
}
